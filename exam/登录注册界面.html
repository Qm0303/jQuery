<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>登录注册系统</title>
    <!-- 引入 Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- 引入 Bootstrap 图标库 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- 引入 jQuery -->
    <script src="jQuery.js"></script>
    <!-- 引入 Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

     .login-register-container {
            width: 400px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

     .tab-content {
            padding: 20px;
        }

     .form-group {
            margin-bottom: 15px;
        }

     .form-control {
            border-radius: 4px;
        }

     .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
        }

     .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

     .nav-tabs {
            border-bottom: none;
        }

     .nav-link {
            color: #007bff;
        }

     .nav-link.active {
            color: #495057;
            background-color: transparent;
            border-color: transparent;
            border-bottom: 2px solid #007bff;
        }
    </style>
</head>

<body>
    <div class="login-register-container">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button"
                    role="tab" aria-controls="login" aria-selected="true">登录</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button"
                    role="tab" aria-controls="register" aria-selected="false">注册</button>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <!-- 登录页面内容 -->
            <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-username">用户名</label>
                        <input type="text" class="form-control" id="login-username" placeholder="请输入用户名" required>
                        <span id="login-username-not-found" style="color: red; display: none;">用户不存在</span>
                    </div>
                    <div class="form-group">
                        <label for="login-password">密码</label>
                        <input type="password" class="form-control" id="login-password" placeholder="请输入密码" required>
                    </div>
                    <button type="submit" class="btn btn-primary">登录</button>
                </form>
            </div>
            <!-- 注册页面内容 -->
            <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
                <ul class="nav nav-tabs" id="registerTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="admin-register-tab" data-bs-toggle="tab"
                            data-bs-target="#admin-register" type="button" role="tab" aria-controls="admin-register"
                            aria-selected="true">管理员注册</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="employee-register-tab" data-bs-toggle="tab"
                            data-bs-target="#employee-register" type="button" role="tab" aria-controls="employee-register"
                            aria-selected="false">员工注册</button>
                    </li>
                </ul>
                <div class="tab-content" id="registerTabContent">
                    <!-- 管理员注册页面内容 -->
                    <div class="tab-pane fade show active" id="admin-register" role="tabpanel"
                        aria-labelledby="admin-register-tab">
                        <form id="admin-register-form">
                            <div class="form-group">
                                <label for="admin-username">管理员用户名</label>
                                <input type="text" class="form-control" id="admin-username" placeholder="请输入管理员用户名"
                                    required>
                                <span id="admin-username-not-found" style="color: red; display: none;">用户不存在</span>
                            </div>
                            <div class="form-group">
                                <label for="admin-password">管理员密码</label>
                                <input type="password" class="form-control" id="admin-password"
                                    placeholder="请输入管理员密码" required>
                            </div>
                            <button type="submit" class="btn btn-primary">注册</button>
                        </form>
                    </div>
                    <!-- 员工注册页面内容 -->
                    <div class="tab-pane fade" id="employee-register" role="tabpanel"
                        aria-labelledby="employee-register-tab">
                        <form id="employee-register-form">
                            <div class="form-group">
                                <label for="employee-username">员工用户名</label>
                                <input type="text" class="form-control" id="employee-username" placeholder="请输入员工用户名"
                                    required>
                                <span id="employee-username-not-found" style="color: red; display: none;">用户不存在!!!!!</span>
                            </div>
                            <div class="form-group">
                                <label for="employee-password">员工密码</label>
                                <input type="password" class="form-control" id="employee-password"
                                    placeholder="请输入员工密码" required>
                            </div>
                            <button type="submit" class="btn btn-primary">注册</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加用于显示用户不存在提示的模态框 -->
    <div class="modal fade" id="userNotFoundModal" tabindex="-1" aria-labelledby="userNotFoundModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userNotFoundModalLabel">提示</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    用户不存在，请先注册！
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">确定</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 模拟已注册用户数据（实际应用中这里的数据应该从后端获取），添加角色标识role
        const registeredUsers = {
            "admin": {
                password: "admin123",
                role: "admin"
            },
            "employee1": {
                password: "emp123",
                role: "employee"
            }
        };

        $(document).ready(function () {
            // 登录表单提交事件处理
            $('#login-form').submit(function (e) {
                e.preventDefault();
                var username = $('#login-username').val();
                var password = $('#login-password').val();
                // 判断用户名是否存在于已注册用户数据中
                if (!registeredUsers.hasOwnProperty(username)) {
                    // 显示用户不存在的提示信息（修改为显示对应span元素）
                    $('#login-username-not-found').show();
                    return;
                } else {
                    // 如果用户名存在，隐藏提示信息
                    $('#login-username-not-found').hide();
                }
                // 简单验证密码（实际应用中密码验证要更严谨，比如加密比较等）
                if (registeredUsers[username].password === password) {
                    // 根据用户角色进行页面跳转判断
                    if (registeredUsers[username].role === "admin") {
                        window.location.href = '管理员界面.html';
                    } else if (registeredUsers[username].role === "employee") {
                        window.location.href = '员工界面.html';
                    }
                } else {
                    alert('密码错误，请重新输入');
                }
            });

            // 管理员注册表单提交事件处理
            $('#admin-register-form').submit(function (e) {
                e.preventDefault();
                var username = $('#admin-username').val();
                var password = $('#admin-password').val();
                // 这里可以添加代码将注册信息发送给后端（使用Ajax或fetch等），目前简单提示注册成功
                console.log('管理员注册信息：', { username, password });
                registeredUsers[username] = { password: password, role: "admin" };
                alert('管理员注册成功');
                // 注册成功后隐藏可能存在的提示信息（如果之前显示了）
                $('#admin-username-not-found').hide();
            });

            // 员工注册表单提交事件处理
            $('#employee-register-form').submit(function (e) {
                e.preventDefault();
                var username = $('#employee-username').val();
                var password = $('#employee-password').val();
                // 这里可以添加代码将注册信息发送给后端（使用Ajax或fetch等），目前简单提示注册成功
                console.log('员工注册信息：', { username, password });
                registeredUsers[username] = { password: password, role: "employee" };
                alert('员工注册成功');
                // 注册成功后隐藏可能存在的提示信息（如果之前显示了）
                $('#employee-username-not-found').hide();
            });
        });
    </script>
</body>

</html>